import{s as U,f as w,g as p,h as C,d as b,i as k,v as y,F as J,G as Q,o as D,p as F,e as q,I as $,w as ee,x as te,y as ne,z as re,a as R,r as K,c as M,j as T,u as E,l as le,m as ie,D as oe,J as ae,K as se}from"../chunks/scheduler.f5bd93bf.js";import{S as O,i as V,a as h,g as W,t as S,c as z,f as ce,b as B,d as G,m as H,e as N}from"../chunks/index.972eeafd.js";const ue="pk_test_51OKvinHOzYU2TTIbZZOqt9bt4mXIxzHl4Kb7CrLkhS7FBa6MtqzddVAtUmug9vUUgtufsPWM3O0AwKtQPlVT9fv400LsS1m3O1";var X="https://js.stripe.com/v3",fe=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,x="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",de=function(){for(var e=document.querySelectorAll('script[src^="'.concat(X,'"]')),n=0;n<e.length;n++){var t=e[n];if(fe.test(t.src))return t}return null},me=function(e){var n=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",t=document.createElement("script");t.src="".concat(X).concat(n);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(t),t},_e=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"2.2.0",startTime:n})},P=null,ge=function(e){return P!==null||(P=new Promise(function(n,t){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(x),window.Stripe){n(window.Stripe);return}try{var r=de();r&&e?console.warn(x):r||(r=me(e)),r.addEventListener("load",function(){window.Stripe?n(window.Stripe):t(new Error("Stripe.js not available"))}),r.addEventListener("error",function(){t(new Error("Failed to load Stripe.js"))})}catch(i){t(i);return}})),P},be=function(e,n,t){if(e===null)return null;var r=e.apply(void 0,n);return _e(r,t),r},Y=Promise.resolve().then(function(){return ge(null)}),Z=!1;Y.catch(function(l){Z||console.warn(l)});var he=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];Z=!0;var r=Date.now();return Y.then(function(i){return be(i,n,r)})};function ve(l,e,n,t,r={}){const i=n.create(e,r);return i.mount(l),i.on("change",o=>t("change",o)),i.on("ready",o=>t("ready",o)),i.on("focus",o=>t("focus",o)),i.on("blur",o=>t("blur",o)),i.on("escape",o=>t("escape",o)),i.on("click",o=>t("click",o)),i.on("loaderror",o=>t("loaderror",o)),i.on("loaderstart",o=>t("loaderstart",o)),i.on("networkschange",o=>t("networkschange",o)),i}const Se=typeof window>"u";function we(l){if(!Se)return l.registerAppInfo({name:"svelte-stripe-js",url:"https://svelte-stripe-js.vercel.app"})}function pe(l){let e;return{c(){e=w("div")},l(n){e=p(n,"DIV",{}),C(e).forEach(b)},m(n,t){k(n,e,t),l[6](e)},p:y,i:y,o:y,d(n){n&&b(e),l[6](null)}}}function ye(l,e,n){let t,r;const i=J(),{elements:o}=Q("stripe");let{options:c=void 0}=e;D(()=>(t=ve(r,"payment",o,i,c),()=>t.destroy()));function m(){t.blur()}function _(){t.clear()}function f(){t.destroy()}function g(){t.focus()}function a(s){F[s?"unshift":"push"](()=>{r=s,n(0,r)})}return l.$$set=s=>{"options"in s&&n(1,c=s.options)},[r,c,m,_,f,g,a]}class Ee extends O{constructor(e){super(),V(this,e,ye,pe,U,{options:1,blur:2,clear:3,destroy:4,focus:5})}get blur(){return this.$$.ctx[2]}get clear(){return this.$$.ctx[3]}get destroy(){return this.$$.ctx[4]}get focus(){return this.$$.ctx[5]}}function A(l){let e;const n=l[15].default,t=ee(n,l,l[14],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,i){t&&t.m(r,i),e=!0},p(r,i){t&&t.p&&(!e||i&16384)&&te(t,n,r,r[14],e?re(n,r[14],i,null):ne(r[14]),null)},i(r){e||(h(t,r),e=!0)},o(r){S(t,r),e=!1},d(r){t&&t.d(r)}}}function ke(l){let e,n,t=l[1]&&l[0]&&A(l);return{c(){t&&t.c(),e=q()},l(r){t&&t.l(r),e=q()},m(r,i){t&&t.m(r,i),k(r,e,i),n=!0},p(r,[i]){r[1]&&r[0]?t?(t.p(r,i),i&3&&h(t,1)):(t=A(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(W(),S(t,1,1,()=>{t=null}),z())},i(r){n||(h(t),n=!0)},o(r){S(t),n=!1},d(r){r&&b(e),t&&t.d(r)}}}function Pe(l,e,n){let t,{$$slots:r={},$$scope:i}=e,{stripe:o}=e,{mode:c=void 0}=e,{theme:m="stripe"}=e,{variables:_={}}=e,{rules:f={}}=e,{labels:g="above"}=e,{loader:a="auto"}=e,{fonts:s=[]}=e,{locale:d="auto"}=e,{currency:I=void 0}=e,{amount:j=void 0}=e,{clientSecret:L=void 0}=e,{elements:v=null}=e;return l.$$set=u=>{"stripe"in u&&n(1,o=u.stripe),"mode"in u&&n(2,c=u.mode),"theme"in u&&n(3,m=u.theme),"variables"in u&&n(4,_=u.variables),"rules"in u&&n(5,f=u.rules),"labels"in u&&n(6,g=u.labels),"loader"in u&&n(7,a=u.loader),"fonts"in u&&n(8,s=u.fonts),"locale"in u&&n(9,d=u.locale),"currency"in u&&n(10,I=u.currency),"amount"in u&&n(11,j=u.amount),"clientSecret"in u&&n(12,L=u.clientSecret),"elements"in u&&n(0,v=u.elements),"$$scope"in u&&n(14,i=u.$$scope)},l.$$.update=()=>{l.$$.dirty&120&&n(13,t={theme:m,variables:_,rules:f,labels:g}),l.$$.dirty&16263&&o&&!v&&(n(0,v=o.elements({mode:c,currency:I,amount:j,appearance:t,clientSecret:L,fonts:s,loader:a,locale:d})),we(o),$("stripe",{stripe:o,elements:v})),l.$$.dirty&8705&&v&&v.update({appearance:t,locale:d})},[v,o,c,m,_,f,g,a,s,d,I,j,L,t,i,r]}class Ce extends O{constructor(e){super(),V(this,e,Pe,ke,U,{stripe:1,mode:2,theme:3,variables:4,rules:5,labels:6,loader:7,fonts:8,locale:9,currency:10,amount:11,clientSecret:12,elements:0})}}function Ie(l){let e;return{c(){e=le("Loading Stripe...")},l(n){e=ie(n,"Loading Stripe...")},m(n,t){k(n,e,t)},p:y,i:y,o:y,d(n){n&&b(e)}}}function je(l){let e,n,t,r,i,o="Pay",c,m,_;function f(a){l[5](a)}let g={stripe:l[0],clientSecret:l[2],$$slots:{default:[Le]},$$scope:{ctx:l}};return l[1]!==void 0&&(g.elements=l[1]),n=new Ce({props:g}),F.push(()=>ce(n,"elements",f)),{c(){e=w("form"),B(n.$$.fragment),r=R(),i=w("button"),i.textContent=o},l(a){e=p(a,"FORM",{});var s=C(e);G(n.$$.fragment,s),r=M(s),i=p(s,"BUTTON",{"data-svelte-h":!0}),K(i)!=="svelte-19gabro"&&(i.textContent=o),s.forEach(b)},m(a,s){k(a,e,s),H(n,e,null),E(e,r),E(e,i),c=!0,m||(_=oe(e,"submit",ae(l[3])),m=!0)},p(a,s){const d={};s&1&&(d.stripe=a[0]),s&4&&(d.clientSecret=a[2]),s&128&&(d.$$scope={dirty:s,ctx:a}),!t&&s&2&&(t=!0,d.elements=a[1],se(()=>t=!1)),n.$set(d)},i(a){c||(h(n.$$.fragment,a),c=!0)},o(a){S(n.$$.fragment,a),c=!1},d(a){a&&b(e),N(n),m=!1,_()}}}function Le(l){let e,n;return e=new Ee({}),{c(){B(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,r){H(e,t,r),n=!0},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){N(e,t)}}}function Te(l){let e,n,t="Payment",r,i,o,c,m;const _=[je,Ie],f=[];function g(a,s){return a[0]?0:1}return o=g(l),c=f[o]=_[o](l),{c(){e=w("div"),n=w("h1"),n.textContent=t,r=R(),i=w("div"),c.c(),this.h()},l(a){e=p(a,"DIV",{class:!0});var s=C(e);n=p(s,"H1",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-3m3tji"&&(n.textContent=t),r=M(s),i=p(s,"DIV",{class:!0});var d=C(i);c.l(d),d.forEach(b),s.forEach(b),this.h()},h(){T(n,"class","w-full"),T(i,"class","w-full"),T(e,"class","flex flex-col")},m(a,s){k(a,e,s),E(e,n),E(e,r),E(e,i),f[o].m(i,null),m=!0},p(a,[s]){let d=o;o=g(a),o===d?f[o].p(a,s):(W(),S(f[d],1,1,()=>{f[d]=null}),z(),c=f[o],c?c.p(a,s):(c=f[o]=_[o](a),c.c()),h(c,1),c.m(i,null))},i(a){m||(h(c),m=!0)},o(a){S(c),m=!1},d(a){a&&b(e),f[o].d()}}}function Ue(l,e,n){let t,r,{data:i}=e,o,c;console.log("element",c),D(async()=>{n(0,o=await he(ue))});async function m(){const{error:f}=await o.confirmPayment({elements:c,confirmParams:{return_url:r}});f&&console.error(f)}function _(f){c=f,n(1,c)}return l.$$set=f=>{"data"in f&&n(4,i=f.data)},l.$$.update=()=>{l.$$.dirty&16&&n(2,{clientSecret:t,returnUrl:r}=i,t)},[o,c,t,m,i,_]}class qe extends O{constructor(e){super(),V(this,e,Ue,Te,U,{data:4})}}export{qe as component};
